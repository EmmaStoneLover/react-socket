(this["webpackJsonpreact-socket"]=this["webpackJsonpreact-socket"]||[]).push([[0],{112:function(e,t,r){},127:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(40),c=r.n(a),o=(r(112),r(13)),l=r(172),s=r(176),i=r(173),u=r(174),j=r(42),b=(r(81),r(1));function d(e){var t=e.children;return Object(b.jsx)(l.a,{sx:{m:2,p:2,boxShadow:5,borderRadius:5},children:t})}var g={p:{fontSize:"15px",margin:"1px"}};function h(e){var t=e.text;return Object(b.jsx)(d,{children:t.map((function(e,t){return Object(b.jsxs)("p",{style:g.p,className:"\n              textLeft\n              ".concat("\u041c\u0438\u0448\u0430"===e.user?"textRight":""," \n              ").concat("Emma Stone"===e.user?"textCenter":"","\n              "),children:[null!==e.user&&"null"!==e.user?Object(b.jsxs)("b",{children:[e.user," \xa0"]}):Object(b.jsx)("b",{children:"\u041b\u0435\u0432\u0430\u043a \xa0"}),e.message]},t)}))})}var O=r(18),x=r(166),m=r(168),f=r(92),p=function(e){var t=e.text,r=e.setText,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),j=Object(o.a)(u,2),d=j[0],g=j[1],h=Object(n.useRef)();Object(n.useEffect)((function(){return h.current=f.a.connect("https://node7socket.herokuapp.com"),h.current.on("message",(function(e){r([].concat(Object(O.a)(t),[e])),g(!1)})),function(){return h.current.disconnect()}}),[t,r]);var p=Object(n.useCallback)((function(e){e.preventDefault(),g(!0),h.current.emit("message",{message:l,user:localStorage.username}),s("")}),[l]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{variant:"h5",children:"\u0412\u0441\u0442\u0430\u0432\u0441\u044c \u0441\u044e\u0434\u0430 \u0441\u0432\u043e\u0439 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0442\u0435\u043a\u0441\u0442"}),Object(b.jsx)("br",{}),Object(b.jsxs)("form",{onSubmit:p,children:[Object(b.jsx)(m.a,{loading:d,type:"submit",color:"secondary",variant:"outlined",children:"Send"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(x.a,{label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430",value:l,onChange:function(e){return s(e.target.value)},required:!0,disabled:d})]})]})},k=r(77),v=r.n(k),S=r(90);function y(e){var t=e.AUTH,r=e.logged,a=e.setLogged,c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],j=l[1],d=Object(n.useState)(""),g=Object(o.a)(d,2),h=g[0],O=g[1],f=Object(n.useState)(!1),p=Object(o.a)(f,2),k=p[0],y=p[1];function C(){return(C=Object(S.a)(v.a.mark((function e(){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:s,password:h},console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e:",r),e.next=4,fetch("".concat(t,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 4:return e.next=6,e.sent.json();case 6:n=e.sent,console.log("\u041f\u0440\u0438\u0448\u043b\u043e:",n),n.userError||n.passwordError||!n.username?(j(""),O(""),a(!1),y(!1),console.log("Errreeeeeeeeooeoeoeoeooeoeoeor")):(localStorage.username=n.username,localStorage.token=n.token,a(!0),console.log("\u0412\u0441\u0435 \u0437\u0431\u0441",localStorage));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){e.preventDefault(),y(!0),function(){C.apply(this,arguments)}()}return Object(b.jsx)("div",{children:r?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i.a,{variant:"label",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",localStorage.username]}),Object(b.jsx)(u.a,{style:{marginLeft:10},color:"secondary",variant:"outlined",onClick:function(){delete localStorage.username,delete localStorage.token,y(!1),console.log(localStorage),a(!1),j(""),O("")},children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:function(e){return E(e)},children:[Object(b.jsx)(i.a,{variant:"label",style:{marginRight:25},children:"\u042d\u0439 \u044e \u0442\u044b \u043a\u0442\u043e? \u0430"}),Object(b.jsx)(m.a,{loading:k,type:"submit",color:"secondary",variant:"outlined",children:"\u0412o\u0439\u0442\u0438"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(x.a,{required:!0,fullWidth:!0,style:{maxWidth:500},type:"username",label:"\u043b\u043e\u0433\u0438\u043d \u041d\u043e\u0443\u043d\u0435\u0439\u043c",vlaue:s,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(x.a,{required:!0,fullWidth:!0,style:{maxWidth:500},type:"password",label:"\u043f\u0430\u0440\u043e\u043b\u044c 1234",value:h,onChange:function(e){return O(e.target.value)}})]})})})}var C=r(175),E=r(169),M=r(91),w=r(93),D=r(171),L=r(165),T=r(44),W=r(47),R=r(46),q=r(45),A=r(54),F=r(84),H=Object(n.createContext)({toggleColorMode:function(){}}),J=[{name:"yellow",color:L.a},{name:"blue",color:T.a},{name:"green",color:W.a},{name:"red",color:R.a},{name:"purple",color:q.a},{name:"orange",color:A.a}];function N(e){var t=e.children,r=Object(n.useState)(function(e){return"light"===e?"light":"dark"===e?"dark":void 0}(localStorage.darkMode)||"light"),a=Object(o.a)(r,2),c=a[0],l=a[1],s=Object(n.useState)({light:d(localStorage.colorLight)||T.a,dark:d(localStorage.colorDark)||W.a}),i=Object(o.a)(s,2),u=i[0],j=i[1];function d(e){var t=null;return J.forEach((function(r){e===r.name&&(t=r.color)})),t}var g=Object(n.useCallback)((function(e){var t=null;return J.forEach((function(r){e===r.color&&(t=r.name)})),t}),[]),h=Object(n.useCallback)((function(e,t){j("light"===e?function(e){return localStorage.colorLight=g(t),{light:t,dark:e.dark}}:function(e){return localStorage.colorDark=g(t),{light:e.light,dark:t}})}),[g]),O=Object(n.useCallback)((function(e){var t={};return J.forEach((function(r){t[r.name]=function(){return h("light"===e?"light":"dark",r.color)}})),t}),[h]),x=Object(n.useMemo)((function(){return{toggleDarkMode:function(){l((function(e){return e="light"===e?"dark":"light",localStorage.darkMode=e,e}))},toggleColorLight:O("light"),toggleColorDark:O("dark")}}),[O]),m=Object(n.useMemo)((function(){return Object(w.a)({palette:Object(M.a)({mode:c},"light"===c?{primary:u.light,secondary:u.light}:{primary:u.dark,secondary:u.dark,background:{default:F.a[800],paper:F.a[900]}})})}),[c,u]);return Object(b.jsx)(H.Provider,{value:x,children:Object(b.jsx)(D.a,{theme:m,children:t})})}function P(e){var t=e.theme,r=e.colorMode;return Object(b.jsxs)(d,{children:[Object(b.jsx)(C.a,{control:Object(b.jsx)(E.a,{onClick:r.toggleDarkMode,checked:"light"!==t.palette.mode}),label:"Dark Mode",labelPlacement:"start"}),Object(b.jsx)("br",{}),"light"===t.palette.mode?Object(b.jsx)("div",{children:J.map((function(e,t){return Object(b.jsx)(u.a,{onClick:r.toggleColorLight[e.name],children:e.name},t)}))}):Object(b.jsx)("div",{children:J.map((function(e,t){return Object(b.jsx)(u.a,{onClick:r.toggleColorDark[e.name],children:e.name},t)}))})]})}function U(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)((function(){return!(!localStorage.username||null===localStorage.username||"null"===localStorage.username)})),g=Object(o.a)(c,2),O=g[0],x=g[1],m=Object(j.a)(),f=Object(n.useContext)(H),k=Object(n.useState)(!1),v=Object(o.a)(k,2),S=v[0],C=v[1];return Object(b.jsxs)(l.a,{sx:{bgcolor:"background.default",color:"text.primary",minHeight:"100vh"},children:[Object(b.jsxs)(s.a,{className:"App",maxWidth:"sm",children:[Object(b.jsx)("br",{}),Object(b.jsx)(i.a,{variant:"h4",children:"EmmaStone"}),Object(b.jsx)("br",{}),Object(b.jsx)(u.a,{onClick:function(){return C((function(e){return!e}))},children:"Settings"}),S?Object(b.jsx)(P,{theme:m,colorMode:f}):"",Object(b.jsx)(d,{children:Object(b.jsx)(y,{AUTH:"https://emmastonenodejs.herokuapp.com",logged:O,setLogged:x,text:r,setText:a})}),Object(b.jsx)(d,{children:Object(b.jsx)(p,{text:r,setText:a})}),r.length?Object(b.jsx)(h,{text:r}):Object(b.jsx)(i.a,{variant:"p",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u0442\u0443\u0442 \u043d\u0435\u0442\u0443"})]}),Object(b.jsx)("br",{})]})}c.a.render(Object(b.jsx)(N,{children:Object(b.jsx)(U,{})}),document.getElementById("root"))},81:function(e,t,r){}},[[127,1,2]]]);
//# sourceMappingURL=main.fdbd667a.chunk.js.map