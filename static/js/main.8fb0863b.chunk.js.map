{"version":3,"sources":["components/MyBox.jsx","components/Text.jsx","components/Input.jsx","components/UserBox.jsx","App.js","index.js"],"names":["styles","MyBox","border","margin","padding","children","style","p","fontSize","Text","text","map","payload","index","className","user","message","Input","handleSubmit","setMessage","onSubmit","placeholder","value","onChange","e","target","required","UserBox","AUTH","logged","setLogged","useState","userInput","setUserInput","passwordInput","setPasswordInput","a","data","username","password","console","log","fetch","method","headers","body","JSON","stringify","json","res","userError","passwordError","localStorage","preventDefault","fetchData","onClick","vlaue","type","socket","io","App","setText","useEffect","on","emit","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8fb0863b.chunk.js","sourcesContent":["import React from 'react'\n\nconst styles = {\n  MyBox: {\n    border: 'black solid 2px',\n    margin: '2rem',\n    padding: '1rem',\n  },\n}\n\nexport default function MyBox({ children }) {\n  return <div style={styles.MyBox}>{children}</div>\n}\n","import React from 'react'\nimport MyBox from './MyBox'\nimport '../css/App.css'\n\nconst styles = {\n  p: {\n    fontSize: '15px',\n    margin: '1px',\n  },\n}\n\nexport default function Text({ text }) {\n  return (\n    <MyBox>\n      {text.map((payload, index) => {\n        return (\n          <p\n            style={styles.p}\n            className={payload.user === 'Миша' ? 'textRight' : 'textLeft'}\n            key={index}\n          >\n            {payload.user !== null && payload.user !== 'null' ? (\n              <b>{payload.user} &nbsp;</b>\n            ) : (\n              <b>Левак &nbsp;</b>\n            )}\n            {payload.message}\n          </p>\n        )\n      })}\n    </MyBox>\n  )\n}\n","import React from 'react'\nimport MyBox from './MyBox'\n\nexport default function Input({ handleSubmit, message, setMessage }) {\n  return (\n    <MyBox>\n      <p style={{ fontSize: '30px' }}>Вставить текст</p>\n      <form onSubmit={handleSubmit}>\n        <input\n          style={{ padding: 10 }}\n          placeholder=\"Текст\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          required\n        />\n      </form>\n    </MyBox>\n  )\n}\n","import React, { useState } from 'react'\n\nexport default function UserBox({ AUTH, logged, setLogged }) {\n  const [userInput, setUserInput] = useState('')\n  const [passwordInput, setPasswordInput] = useState('')\n\n  async function fetchData() {\n    const data = {\n      username: userInput,\n      password: passwordInput,\n    }\n    console.log('Отправляю:', data)\n    const res = await (\n      await fetch(`${AUTH}/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8',\n        },\n        body: JSON.stringify(data),\n      })\n    ).json()\n    console.log('Пришло:', res)\n    if (!res.userError && !res.passwordError && res.username) {\n      localStorage.user = res.username\n      setLogged(true)\n    } else {\n      setUserInput('Ты чета попутал')\n      setPasswordInput('')\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    fetchData()\n  }\n  function handleLogOut() {\n    localStorage.user = null\n    setLogged(false)\n    setUserInput('')\n    setPasswordInput('')\n  }\n\n  return (\n    <div>\n      {!logged ? (\n        <>\n          <p>Эй бля, ты кто?</p>\n          <form onSubmit={(e) => handleSubmit(e)}>\n            <input\n              required\n              placeholder=\"логин Ноунейм\"\n              vlaue={userInput}\n              onChange={(e) => setUserInput(e.target.value)}\n            />{' '}\n            <br />\n            <input\n              required\n              type=\"password\"\n              placeholder=\"пароль 1234\"\n              value={passwordInput}\n              onChange={(e) => setPasswordInput(e.target.value)}\n            />\n            <br />\n            <button type=\"submit\">Войти</button>\n          </form>\n        </>\n      ) : (\n        <>\n          <p>Попа</p>\n          <button onClick={handleLogOut}>Пошел в попу</button>\n        </>\n      )}\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport './css/App.css'\nimport io from 'socket.io-client'\nimport Text from './components/Text'\nimport Input from './components/Input'\nimport MyBox from './components/MyBox'\nimport UserBox from './components/UserBox'\n\nconst socket = io('https://node7socket.herokuapp.com')\nconst AUTH = 'https://emmastonenodejs.herokuapp.com'\n\nfunction App() {\n  const [message, setMessage] = useState('')\n  const [text, setText] = useState([])\n  const [logged, setLogged] = useState(() => {\n    return localStorage.user &&\n      localStorage.user !== null &&\n      localStorage.user !== 'null'\n      ? true\n      : false\n  })\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    socket.emit('message', { message: message, user: localStorage.user })\n    setMessage('')\n  }\n  useEffect(() => {\n    socket.on('message', (payload) => {\n      setText([...text, payload])\n    })\n  })\n\n  return (\n    <div className=\"App\">\n      <MyBox>\n        <UserBox AUTH={AUTH} logged={logged} setLogged={setLogged} />\n      </MyBox>\n      <Input\n        handleSubmit={handleSubmit}\n        message={message}\n        setMessage={setMessage}\n      />\n      {text.length ? <Text text={text} /> : 'Ничего нету'}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './css/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}