(this["webpackJsonpreact-socket"]=this["webpackJsonpreact-socket"]||[]).push([[0],{110:function(e,t,r){},125:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(40),a=r.n(n),o=(r(110),r(10)),l=r(175),s=r(179),i=r(177),u=r(42),j=(r(82),r(23)),b=r(1);function d(e){return Object(b.jsx)(l.a,Object(j.a)(Object(j.a)({},e),{},{sx:{m:2,p:2,boxShadow:5,borderRadius:3,bgcolor:"background.myBox"},children:e.children}))}var h=r(173),O=r(176);function m(e){return Object(b.jsx)(O.a,Object(j.a)(Object(j.a)({},e),{},{style:{textTransform:"none"},children:e.children}))}function x(e){var t=e.text,r=e.setText,n=Object(c.useState)(!1),a=Object(o.a)(n,2),l=a[0],s=a[1];return Object(b.jsx)(b.Fragment,{children:t.length?Object(b.jsxs)(d,{children:[t.map((function(e,t){return Object(b.jsxs)(i.a,{component:"p",className:"\n              textLeft\n              ".concat("\u041c\u0438\u0448\u0430"===e.user?"textRight":""," \n              ").concat("Emma Stone"===e.user?"textCenter":"","\n              "),children:[null!==e.user&&"null"!==e.user&&e.user?Object(b.jsxs)(i.a,{component:"b",color:"primary",children:["\xa0 ",e.user," \xa0"]}):"",e.message]},t)})),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsxs)(h.a,{container:!0,style:{textAlign:"start"},children:[Object(b.jsx)(h.a,{item:!0,xs:2,children:Object(b.jsx)(m,{onClick:function(){return s((function(e){return!e}))},children:"\u2022\u2022\u2022"})}),l?Object(b.jsxs)(h.a,{item:!0,xs:10,children:["\xa0 \xa0",Object(b.jsx)(O.a,{color:"success",onClick:function(){localStorage.text=JSON.stringify(t),s(!1)},children:"Save text"}),Object(b.jsx)(O.a,{color:"error",onClick:function(){r([]),delete localStorage.text},children:"Delete text"})]}):""]})})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)(i.a,{variant:"p",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u0442\u0443\u0442 \u043d\u0435\u0442\u0443"}),Object(b.jsx)("br",{})]})})}var g=r(14),f=r(169),v=r(91),p=r(92),y=r(172),k=r(166),S=r(44),C=r(46),w=r(45),T=r(54),E=r(85),N=r(167),M=Object(c.createContext)({toggleColorMode:function(){}}),L=[{name:"yellow",color:k.a,Name:"Yellow"},{name:"blue",color:S.a,Name:"Blue"},{name:"green",color:C.a,Name:"Green"},{name:"purple",color:w.a,Name:"Purple"},{name:"orange",color:T.a,Name:"Orange"}];function D(e){var t=e.children,r=localStorage.mode||"system",n=Object(N.a)("(prefers-color-scheme: dark)"),a=Object(c.useState)(r),l=Object(o.a)(a,2),s=l[0],i=l[1];Object(c.useEffect)((function(){if(r)return"system"===r?i(n?{ststem:!0,active:"dark"}:{ststem:!0,active:"light"}):void("light"===r?i({system:!1,active:"light"}):"dark"===r&&i({system:!1,active:"dark"}))}),[r,n]);var u=Object(c.useState)({light:m(localStorage.colorLight)||S.a,dark:m(localStorage.colorDark)||C.a}),d=Object(o.a)(u,2),h=d[0],O=d[1];function m(e){var t=null;return L.forEach((function(r){e===r.name&&(t=r.color)})),t}var x=Object(c.useCallback)((function(e){var t=null;return L.forEach((function(r){e===r.color&&(t=r.name)})),t}),[]),g=Object(c.useCallback)((function(e,t){O("light"===e?function(e){return localStorage.colorLight=x(t),{light:t,dark:e.dark}}:function(e){return localStorage.colorDark=x(t),{light:e.light,dark:t}})}),[x]),f=Object(c.useCallback)((function(e){var t={};return L.forEach((function(r){t[r.name]=function(){return g("light"===e?"light":"dark",r.color)}})),t}),[g]),v=Object(c.useMemo)((function(){return{Mode:{system:function(){localStorage.mode="system",i(Object(j.a)(Object(j.a)({},s),{},{system:!0}))},light:function(){localStorage.mode="light",i({system:!1,active:"light"})},dark:function(){localStorage.mode="dark",i({system:!1,active:"dark"})}},Color:{light:f("light"),dark:f("dark")}}}),[f,s]),k=Object(c.useMemo)((function(){return Object(p.a)({palette:Object(j.a)({mode:s.active},"light"===s.active?{primary:h.light,secondary:h.light,background:{default:E.a[100],myBox:"white"}}:{primary:h.dark,secondary:h.dark,background:{default:E.a[900],myBox:"rgb(255, 255, 255, 0.05)"}})})}),[s,h]);return Object(b.jsx)(M.Provider,{value:v,children:Object(b.jsx)(y.a,{theme:k,children:t})})}var W=r(171);function A(e){return Object(b.jsx)(W.a,Object(j.a)(Object(j.a)({},e),{},{style:{textTransform:"none"},children:e.children}))}var B=r(178);function J(e){return Object(b.jsx)(B.a,Object(j.a)(Object(j.a)({},e),{},{style:{textTransform:"none"},children:e.children}))}var R={AUTH:"https://emmastonenodejs.herokuapp.com",socket:"https://node7socket.herokuapp.com"},q=function(e){var t=e.text,r=e.setText,n=e.end,a=Object(c.useState)(""),l=Object(o.a)(a,2),s=l[0],i=l[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),d=j[0],O=j[1],m=Object(c.useRef)();Object(c.useEffect)((function(){return m.current=v.a.connect(R.socket),m.current.on("message",(function(e){r([].concat(Object(g.a)(t),[e])),O(!1)})),n.current.scrollIntoView({behavior:"smooth"}),function(){return m.current.disconnect()}}),[t,r,n]);var x=Object(c.useCallback)((function(e){e.preventDefault(),O(!0),m.current.emit("message",{message:s,user:localStorage.username}),i("")}),[s]);return Object(b.jsx)("form",{onSubmit:x,children:Object(b.jsxs)(h.a,{container:!0,sx:{p:1},children:[Object(b.jsx)(h.a,{item:!0,xs:10,children:Object(b.jsx)(f.a,{required:!0,label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430",variant:"outlined",value:s,fullWidth:!0,onChange:function(e){return i(e.target.value)}})}),Object(b.jsx)(h.a,{item:!0,xs:2,sx:{mt:"11px",textAlign:"end"},children:Object(b.jsx)(A,{loading:d,type:"submit",color:"secondary",children:"Send"})})]})})},F=r(78),H=r.n(F),P=r(90);function I(e){var t=e.logged,r=e.setLogged,n=Object(c.useState)(""),a=Object(o.a)(n,2),l=a[0],s=a[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),d=j[0],h=j[1],O=Object(c.useState)(!1),x=Object(o.a)(O,2),g=x[0],v=x[1];function p(){return(p=Object(P.a)(H.a.mark((function e(){var t,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:l,password:d},console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e:",t),e.next=4,fetch("".concat(R.AUTH,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 4:return e.next=6,e.sent.json();case 6:c=e.sent,console.log("\u041f\u0440\u0438\u0448\u043b\u043e:",c),c.userError||c.passwordError||!c.username?(s(""),h(""),r(!1),v(!1),console.log("Errreeeeeeeeooeoeoeoeooeoeoeor")):(localStorage.username=c.username,localStorage.token=c.token,r(!0),console.log("\u0412\u0441\u0435 \u0437\u0431\u0441",localStorage));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){e.preventDefault(),v(!0),function(){p.apply(this,arguments)}()}return Object(b.jsx)("div",{children:t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i.a,{variant:"label",children:[localStorage.username," \xa0 \xa0"]}),Object(b.jsx)(m,{style:{marginLeft:10},color:"secondary",variant:"outlined",onClick:function(){delete localStorage.username,delete localStorage.token,v(!1),console.log(localStorage),r(!1),s(""),h("")},children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:function(e){return y(e)},children:[Object(b.jsx)(i.a,{variant:"label",style:{marginRight:25},children:"\u042d\u0439 \u044e \u0442\u044b \u043a\u0442\u043e? \u0430"}),Object(b.jsx)(A,{loading:g,type:"submit",color:"secondary",variant:"outlined",children:"\u0412o\u0439\u0442\u0438"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(f.a,{required:!0,fullWidth:!0,style:{maxWidth:500},type:"username",label:"\u043b\u043e\u0433\u0438\u043d \u041d\u043e\u0443\u043d\u0435\u0439\u043c",vlaue:l,onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(f.a,{required:!0,fullWidth:!0,style:{maxWidth:500},type:"password",label:"\u043f\u0430\u0440\u043e\u043b\u044c 1234",value:d,onChange:function(e){return h(e.target.value)}})]})})})}var U=r(174);function z(e){e.theme;var t=e.colorMode,r=Object(c.useState)((function(){return"system"===localStorage.mode?"system":"light"===localStorage.mode?"light":"dark"===localStorage.mode?"dark":"system"})),n=Object(o.a)(r,2),a=n[0],l=n[1],s=Object(c.useState)(),i=Object(o.a)(s,2),u=i[0],j=i[1];return Object(b.jsxs)(d,{children:[Object(b.jsxs)(U.a,{color:"primary",exclusive:!0,value:a,onChange:function(e,r){"system"===r?(t.Mode.system(),l(r)):"light"===r?(t.Mode.light(),l(r)):"dark"===r&&(t.Mode.dark(),l(r))},children:[Object(b.jsx)(J,{value:"system",children:"System"}),Object(b.jsx)(J,{value:"light",children:"Light"}),Object(b.jsx)(J,{value:"dark",children:"Dark"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(U.a,{size:"small",color:"primary",exclusive:!0,value:u,onChange:function(e,r){try{"system"===a?"light"===a?(t.Color.light[r](),j(r)):(t.Color.dark[r](),j(r)):"light"===a?(t.Color.light[r](),j(r)):"dark"===a&&(t.Color.dark[r](),j(r))}catch(c){return}},children:L.map((function(e,t){return Object(b.jsx)(J,{value:e.name,children:e.Name},t)}))})]})}function G(){var e=Object(c.useState)(function(){try{return JSON.parse(localStorage.text)}catch(e){return[]}}()||[]),t=Object(o.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)((function(){return!(!localStorage.username||null===localStorage.username||"null"===localStorage.username)})),j=Object(o.a)(a,2),h=j[0],O=j[1],m=Object(u.a)(),g=Object(c.useContext)(M),f=Object(c.useRef)();return Object(b.jsxs)(l.a,{sx:{bgcolor:"background.default",color:"text.primary",minHeight:"100vh"},children:[Object(b.jsxs)(s.a,{className:"App",maxWidth:"sm",children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(i.a,{variant:"h4",children:"Emma Stone"}),Object(b.jsx)("br",{}),Object(b.jsx)(z,{theme:m,colorMode:g}),Object(b.jsx)(d,{children:Object(b.jsx)(I,{logged:h,setLogged:O,text:r,setText:n})}),Object(b.jsx)(x,{text:r,setText:n}),Object(b.jsx)(d,{children:Object(b.jsx)(q,{text:r,setText:n,end:f})})]}),Object(b.jsx)("br",{ref:f})]})}a.a.render(Object(b.jsx)(D,{children:Object(b.jsx)(G,{})}),document.getElementById("root"))},82:function(e,t,r){}},[[125,1,2]]]);
//# sourceMappingURL=main.122dce1a.chunk.js.map